<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏详情 - 成人影像！从色情开始</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        :root {
            --primary-color: #f97dd8;
            --secondary-color: #ff69b4;
            --text-color: #fff;
            --bg-color: #1a1a1a;
            --card-bg: rgba(249, 125, 216, 0.2);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            font-family: 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-color);
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .game-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .game-title {
            font-size: 2em;
            margin: 0;
            padding: 10px 0;
        }

        .game-subtitle {
            font-size: 1.2em;
            margin: 0;
            padding: 10px 0;
        }

        .main-image {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto 30px;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            background: #f5f5f5;
            min-height: 300px;
        }

        .main-image img {
            width: auto;
            max-width: 100%;
            height: auto;
            max-height: 80vh;
            display: block;
            transition: var(--transition);
            object-fit: contain;
        }

        .main-image:hover img {
            transform: scale(1.02);
        }

        .game-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 10px;
        }

        .info-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
        }

        .info-card h3 {
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        .feature-list {
            list-style: none;
            padding: 0;
        }

        .feature-list li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .feature-list li:before {
            content: "✦";
            position: absolute;
            left: 0;
            color: var(--primary-color);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .action-button {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            background: var(--primary-color);
            color: white;
            font-size: 1.1em;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 200px;
            box-shadow: 0 4px 15px rgba(249, 125, 216, 0.3);
        }

        .action-button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(249, 125, 216, 0.4);
        }

        .action-button:active {
            transform: translateY(0);
        }

        .image-gallery {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .gallery-image {
            max-width: 90%;
            max-height: 90vh;
            object-fit: contain;
            border-radius: var(--border-radius);
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 15px;
            cursor: pointer;
            border-radius: 50%;
            transition: var(--transition);
        }

        .gallery-nav:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .gallery-nav.prev {
            left: 20px;
        }

        .gallery-nav.next {
            right: 20px;
        }

        .gallery-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            cursor: pointer;
            transition: var(--transition);
        }

        .gallery-close:hover {
            transform: rotate(90deg);
        }

        .dialogue-box {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            max-width: 80%;
            text-align: center;
            font-size: 1.1em;
            backdrop-filter: blur(5px);
        }

        .game-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .game-tag {
            padding: 5px 15px;
            background: var(--card-bg);
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            color: var(--primary-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .game-tag:hover,
        .game-tag.active {
            background: var(--primary-color);
            color: white;
        }

        .installation-guide {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
        }

        .guide-step {
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            width: 100%;
            box-sizing: border-box;
        }

        .guide-step h4 {
            color: var(--primary-color);
            margin-top: 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            width: 100%;
            box-sizing: border-box;
        }

        .guide-step h4:after {
            content: "▼";
            font-size: 0.8em;
            transition: var(--transition);
        }

        .guide-content {
            padding: 15px;
            background: white;
            border-radius: var(--border-radius);
            margin-top: 10px;
            display: none;
            color: #333;
            width: 100%;
            box-sizing: border-box;
        }

        .guide-content p {
            margin: 10px 0;
            line-height: 1.6;
            color: #333;
            width: 100%;
            box-sizing: border-box;
        }

        .guide-step h4:hover {
            background: var(--primary-color);
            color: white;
        }

        .games-grid {
            display: flex;
            flex-direction: row;
            gap: 15px;
            margin-top: 20px;
            overflow-x: auto;
            padding: 10px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
            width: 100%;
            box-sizing: border-box;
        }

        .games-grid::-webkit-scrollbar {
            display: none;
        }

        .game-card {
            text-decoration: none;
            color: var(--text-color);
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            flex: 0 0 280px;
            min-width: 280px;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .game-card img {
            width: 100%;
            height: 160px;
            object-fit: cover;
        }

        .game-card .game-info {
            padding: 10px;
        }

        .game-card h4 {
            margin: 0 0 8px 0;
            color: var(--primary-color);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            font-size: 1em;
        }

        .game-card p {
            margin: 0;
            font-size: 0.9em;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .image-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .image-item {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: var(--transition);
            aspect-ratio: 16/9;
        }

        .image-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .image-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .image-item:hover img {
            transform: scale(1.05);
        }

        .changelog-section {
            background: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            box-sizing: border-box;
        }

        .changelog-item {
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            width: 100%;
            box-sizing: border-box;
        }

        .changelog-item h4 {
            color: var(--primary-color);
            margin-top: 0;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
        }

        .changelog-item ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .changelog-item li {
            margin: 8px 0;
            line-height: 1.6;
            color: var(--text-color);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
                width: 100%;
                box-sizing: border-box;
            }

            .game-title {
                font-size: 1.5em;
            }

            .main-image {
                margin: 0 auto 20px;
                border-radius: var(--border-radius);
                max-width: 100%;
                min-height: 200px;
            }

            .main-image img {
                width: auto;
                max-width: 100%;
                height: auto;
                max-height: 70vh;
                object-fit: contain;
            }

            .action-buttons {
                flex-direction: column;
                padding: 0 20px;
                gap: 12px;
                align-items: center;
            }

            .action-button {
                width: 80%;
                max-width: 300px;
                padding: 18px 30px;
                font-size: 1.2em;
                border-radius: 30px;
                position: relative;
                overflow: hidden;
                margin: 0 auto;
            }

            .action-button.download,
            .action-button.service {
                width: 80%;
                max-width: 300px;
                margin: 0 auto;
            }

            .games-grid {
                display: flex;
                flex-direction: row;
                gap: 8px;
                padding: 8px;
                margin: 15px 0;
                width: 100%;
                box-sizing: border-box;
                justify-content: center;
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                padding-bottom: 10px;
            }

            .games-grid::-webkit-scrollbar {
                display: none;
            }

            .game-card {
                flex: 0 0 100px;
                min-width: 100px;
                margin-right: 8px;
            }

            .game-card:last-child {
                margin-right: 0;
            }

            .game-card img {
                height: 75px;
                object-fit: cover;
            }

            .game-card .game-info {
                padding: 4px;
            }

            .game-card h4 {
                font-size: 0.75em;
                margin: 0 0 1px 0;
                line-height: 1.2;
            }

            .game-card p {
                font-size: 0.65em;
                line-height: 1.2;
                margin: 0;
            }

            .action-button.download {
                background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
                position: relative;
                overflow: hidden;
            }

            .action-button.download::before {
                content: '↓';
                margin-right: 8px;
                font-size: 1.2em;
            }

            .action-button.download:hover {
                background: linear-gradient(45deg, var(--secondary-color), var(--primary-color));
            }

            .action-button.service {
                background: linear-gradient(45deg, #4CAF50, #45a049);
            }

            .action-button.service::before {
                content: '💬';
                margin-right: 8px;
            }

            .action-button.service:hover {
                background: linear-gradient(45deg, #45a049, #4CAF50);
            }

            /* 亮色主题 */
            body.light-mode {
                --text-color: #333;
                --bg-color: #fff;
                --card-bg: rgba(249, 125, 216, 0.1);
            }

            /* 暗色主题 */
            body.dark-mode {
                --text-color: #fff;
                --bg-color: #1a1a1a;
                --card-bg: rgba(249, 125, 216, 0.2);
            }

            .theme-toggle {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 10px 20px;
                background: var(--primary-color);
                color: white;
                border: none;
                border-radius: 20px;
                cursor: pointer;
                transition: var(--transition);
                z-index: 100;
            }

            .theme-toggle:hover {
                background: var(--secondary-color);
            }

            .back-to-top {
                position: fixed;
                bottom: 20px;
                right: 20px;
                padding: 15px;
                background: var(--primary-color);
                color: white;
                border: none;
                border-radius: 50%;
                cursor: pointer;
                transition: var(--transition);
                display: none;
                z-index: 100;
            }

            .back-to-top:hover {
                background: var(--secondary-color);
                transform: translateY(-3px);
            }

            .image-container {
                grid-template-columns: repeat(2, 1fr);
                gap: 8px;
                margin: 15px 0;
            }

            .image-item {
                aspect-ratio: 16/9;
            }

            .installation-guide {
                padding: 15px;
                margin: 20px 0;
                width: 100%;
                box-sizing: border-box;
            }

            .guide-step {
                padding: 10px;
                margin: 10px 0;
            }

            .guide-step h4 {
                padding: 8px;
                font-size: 0.9em;
            }

            .guide-content {
                padding: 10px;
            }

            .guide-content p {
                font-size: 0.85em;
                margin: 8px 0;
            }

            .changelog-section {
                padding: 15px;
                margin: 20px 0;
                width: 100%;
                box-sizing: border-box;
            }

            .changelog-item {
                padding: 10px;
                margin: 10px 0;
            }

            .changelog-item h4 {
                font-size: 0.9em;
                padding-bottom: 8px;
            }

            .changelog-item ul {
                margin: 8px 0;
                padding-left: 15px;
            }

            .changelog-item li {
                font-size: 0.85em;
                margin: 6px 0;
            }
        }
    </style>
</head>

<body>
    <button class="back-to-top">↑</button>
    <button class="theme-toggle">切换主题</button>

    <div class="container">
        <div class="game-header">
            <h1 class="game-title">成人影像！从色情开始</h1>
            <p class="game-subtitle">アダルトヴィジョン! -reSTARt from the ERO- Ver1.04 AI汉化版【7.4G】</p>
        </div>

        <div class="main-image">
            <img id="mainImage" src="" alt="游戏主图">
        </div>

        <div class="game-info">
            <div class="info-card">
                <h3>游戏特色</h3>
                <ul class="feature-list">
                    <li>DLsite限定特典</li>
                    <li>隐藏秘技</li>
                    <li>首作通关解锁所有H场景</li>
                    <li>为RPG苦手玩家准备的救援要素</li>
                    <li>超智慧的圣域</li>
                </ul>
            </div>

            <div class="info-card">
                <h3>游戏亮点</h3>
                <div class="game-tags">
                    <span class="game-tag">参与工作人员</span>
                    <span class="game-tag">场景内容概览</span>
                    <span class="game-tag">剧情丰富</span>
                    <span class="game-tag">画面精美</span>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="action-button" onclick="startGame()">开始游戏</button>
            <a href="" class="action-button download">下载游戏</a>
            <a href="https://qm.qq.com/q/IekbXKmPAG" class="action-button service">联系客服</a>
        </div>

        <div class="info-card">
            <h3>游戏故事</h3>
            <p class="story-text">
                在追求创造尚不存在于这个世界的新艺术的过程中，"导演酱"一边摸索一边追逐梦想。
                与此同时，有人追捕某位重要人物，有人暗中行动试图逼近某个目标。
                最终，"一揉胸基金会"的特工们登场。
                繁荣的贸易都市伊梅尔巴、流传的传说与遗迹、为私欲肆虐的山贼、
                收集魔物身体部件的神秘人物、令人不安的野心家、迷惑人类的魔物——
                冒险者们追寻着曾以黄金繁荣的加尔德王国，其宰相留下的隐藏宝藏"黄金遗产"的争夺战。
                从选址到收集拍摄道具，再到寻找愿意协助拍摄的人，仅仅是这些就已经困难重重，梦想之路可谓前途多舛！
                导演酱能否欺骗无法逃避的命运，从色情开始抓住自己的梦想呢……？
            </p>
        </div>

        <div class="image-gallery">
            <span class="gallery-close">&times;</span>
            <button class="gallery-nav prev">&lt;</button>
            <button class="gallery-nav next">&gt;</button>
            <img class="gallery-image" src="" alt="Gallery Image">
            <div class="dialogue-box">
                <p class="dialogue-text"></p>
            </div>
        </div>

        <div class="image-container" id="image-container"></div>

        <div class="info-card">
            <h3>更新日志</h3>
            <div class="changelog-item">
                <h4>v1.04更新说明</h4>
                <ul>
                    <li>修复内容装备属性限制异常修正</li>
                    <li>调整后的限制标准与原先几乎保持相同平衡性</li>
                    <li>调整了部分属性限制装备的判定条件</li>
                    <li>修复了某些情况下限制未生效的BUG</li>
                    <li>多周目「水晶」记忆重置优化</li>
                    <li>多周目数据残留问题修复</li>
                </ul>
            </div>
        </div>

        <div class="installation-guide">
            <h3>安装指南</h3>
            <div class="guide-step">
                <h4 onclick="toggleGuide(this)">PC版本安装步骤</h4>
                <div class="guide-content">
                    <p>1. 下载游戏压缩包并解压到任意目录</p>
                    <p>2. 运行游戏主程序即可开始游戏</p>
                    <p>3. 如遇到运行问题，请确保已安装最新版本的DirectX和Visual C++运行库</p>
                </div>
            </div>
            <div class="guide-step">
                <h4 onclick="toggleGuide(this)">安卓版本安装步骤</h4>
                <div class="guide-content">
                    <p>1. 下载APK安装包</p>
                    <p>2. 在手机设置中允许安装未知来源应用</p>
                    <p>3. 点击APK文件进行安装</p>
                    <p>4. 安装完成后点击图标即可开始游戏</p>
                </div>
            </div>
            <div class="guide-step">
                <h4 onclick="toggleGuide(this)">注意事项</h4>
                <div class="guide-content">
                    <p>• 游戏需要至少2GB可用存储空间</p>
                    <p>• 安卓设备需要Android 5.0或更高版本</p>
                    <p>• 如遇到安装问题，请尝试重启设备后重新安装</p>
                </div>
            </div>
        </div>

        <div class="info-card">
            <h3>相关推荐</h3>
            <div class="games-grid">
                <a href="../meituxiangqing/meituxiangqing.html" class="game-card">
                    <img src="../image1/催眠v1.4.6c汉化版【PC+安卓/1.jpg" alt="催眠游戏">
                    <div class="game-info">
                        <h4>催眠游戏</h4>
                        <p>催眠题材，剧情丰富</p>
                    </div>
                </a>
                <a href="../meituxiangqing/meituxiangqing.html" class="game-card">
                    <img src="../image1/催眠v1.4.6c汉化版【PC+安卓/2.jpg" alt="调教游戏">
                    <div class="game-info">
                        <h4>调教游戏</h4>
                        <p>调教玩法，多种结局</p>
                    </div>
                </a>
                <a href="../meituxiangqing/meituxiangqing.html" class="game-card">
                    <img src="../image1/催眠v1.4.6c汉化版【PC+安卓/3.jpg" alt="SM游戏">
                    <div class="game-info">
                        <h4>SM游戏</h4>
                        <p>SM玩法，剧情丰富</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <script>
        // 全局变量
        const imageFolderPath = '../image2/成人影像！从色情开始 アダルトヴィジョン! -reSTARt from the ERO- Ver1.04 AI汉化版【7.4G】/';
        const totalImages = 7;
        let currentGalleryIndex = 0;
        let galleryImages = [];
        let isGalleryOpen = false;

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function () {
            initializePage();
            setupEventListeners();
            loadImages();
            setupTheme();
        });

        // 初始化页面
        function initializePage() {
            // 设置主图
            const mainImage = document.getElementById('mainImage');
            mainImage.src = `${imageFolderPath}1.jpg`;
            galleryImages = [mainImage.src];

            // 初始化图片容器
            const imageContainer = document.getElementById('image-container');
            imageContainer.innerHTML = '';

            // 加载前6张描述图
            for (let i = 0; i < 6; i++) {
                const imgElement = createImageElement(i + 2);
                imageContainer.appendChild(imgElement);
                galleryImages.push(imgElement.querySelector('img').src);
            }
        }

        // 创建图片元素
        function createImageElement(index) {
            const div = document.createElement('div');
            div.className = 'image-item';
            const img = document.createElement('img');
            img.src = `${imageFolderPath}${index}.jpg`;
            img.alt = `游戏截图 ${index}`;
            img.loading = 'lazy';
            div.appendChild(img);
            return div;
        }

        // 设置事件监听器
        function setupEventListeners() {
            // 返回顶部按钮
            const backToTop = document.querySelector('.back-to-top');
            window.addEventListener('scroll', () => {
                backToTop.style.display = window.scrollY > 300 ? 'block' : 'none';
            });
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // 主题切换
            const themeToggle = document.querySelector('.theme-toggle');
            themeToggle.addEventListener('click', toggleTheme);

            // 图片画廊
            setupGalleryEvents();

            // 安装指南展开/收起
            setupInstallationGuide();

            // 标签点击
            setupTags();
        }

        // 设置图片画廊事件
        function setupGalleryEvents() {
            const gallery = document.querySelector('.image-gallery');
            const closeBtn = document.querySelector('.gallery-close');
            const prevBtn = document.querySelector('.gallery-nav.prev');
            const nextBtn = document.querySelector('.gallery-nav.next');

            // 关闭画廊
            closeBtn.addEventListener('click', () => {
                gallery.style.display = 'none';
                isGalleryOpen = false;
                document.body.style.overflow = 'auto';
            });

            // 上一张/下一张
            prevBtn.addEventListener('click', () => navigateGallery(-1));
            nextBtn.addEventListener('click', () => navigateGallery(1));

            // 键盘导航
            document.addEventListener('keydown', (e) => {
                if (!isGalleryOpen) return;
                switch (e.key) {
                    case 'ArrowLeft':
                        navigateGallery(-1);
                        break;
                    case 'ArrowRight':
                        navigateGallery(1);
                        break;
                    case 'Escape':
                        gallery.style.display = 'none';
                        isGalleryOpen = false;
                        document.body.style.overflow = 'auto';
                        break;
                }
            });

            // 点击图片打开画廊
            document.querySelectorAll('.image-item img, #mainImage').forEach((img, index) => {
                img.addEventListener('click', () => openGallery(index));
            });
        }

        // 设置安装指南展开/收起
        function setupInstallationGuide() {
            const steps = document.querySelectorAll('.guide-step');

            steps.forEach(step => {
                const header = step.querySelector('h4');
                const content = step.querySelector('.guide-content');

                header.addEventListener('click', () => {
                    // 关闭其他所有步骤
                    steps.forEach(otherStep => {
                        if (otherStep !== step) {
                            const otherContent = otherStep.querySelector('.guide-content');
                            otherContent.style.display = 'none';
                        }
                    });

                    // 切换当前步骤
                    const isActive = step.classList.contains('active');
                    step.classList.toggle('active');
                    content.style.display = isActive ? 'none' : 'block';
                });
            });
        }

        // 设置标签点击事件
        function setupTags() {
            document.querySelectorAll('.game-tag').forEach(tag => {
                tag.addEventListener('click', () => {
                    tag.classList.toggle('active');
                });
            });
        }

        // 打开图片画廊
        function openGallery(index) {
            const gallery = document.querySelector('.image-gallery');
            const galleryImg = document.querySelector('.gallery-image');
            const dialogueText = document.querySelector('.dialogue-text');

            if (index >= 0 && index < galleryImages.length) {
                currentGalleryIndex = index;
                gallery.style.display = 'flex';
                galleryImg.src = galleryImages[index];
                dialogueText.textContent = getRandomDialogue();
                isGalleryOpen = true;
                document.body.style.overflow = 'hidden';
            }
        }

        // 导航画廊
        function navigateGallery(direction) {
            currentGalleryIndex = (currentGalleryIndex + direction + galleryImages.length) % galleryImages.length;
            const galleryImg = document.querySelector('.gallery-image');
            const dialogueText = document.querySelector('.dialogue-text');

            galleryImg.src = galleryImages[currentGalleryIndex];
            dialogueText.textContent = getRandomDialogue();
        }

        // 获取随机对话
        function getRandomDialogue() {
            const dialogues = [
                "主人...人家的下面好湿...好想要主人的大肉棒...",
                "啊...主人的手指好厉害...人家的小穴好舒服...",
                "主人...人家的奶子好涨...请用力揉捏它们...",
                "啊...主人的舌头好灵活...人家的乳头好敏感...",
                "主人...人家的屁股好痒...请用力拍打它..."
            ];
            return dialogues[Math.floor(Math.random() * dialogues.length)];
        }

        // 切换主题
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDarkMode = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
            document.querySelector('.theme-toggle').textContent = isDarkMode ? '切换亮色' : '切换暗色';
        }

        // 设置主题
        function setupTheme() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme === 'light' || (!savedTheme && !prefersDark)) {
                document.body.classList.add('light-mode');
                document.querySelector('.theme-toggle').textContent = '切换暗色';
            } else {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-toggle').textContent = '切换亮色';
            }
        }

        // 开始游戏
        function startGame() {
            window.location.href = 'game_scene.html';
        }

        // 分享游戏
        function shareGame() {
            if (navigator.share) {
                navigator.share({
                    title: '游戏详情',
                    text: '查看这个有趣的游戏！',
                    url: window.location.href
                }).catch(console.error);
            } else {
                navigator.clipboard.writeText(window.location.href)
                    .then(() => alert('链接已复制到剪贴板！'))
                    .catch(() => alert('复制链接失败，请手动复制。'));
            }
        }

        function toggleGuide(element) {
            const step = element.parentElement;
            const content = element.nextElementSibling;
            const allSteps = document.querySelectorAll('.guide-step');

            // 关闭其他所有步骤
            allSteps.forEach(otherStep => {
                if (otherStep !== step) {
                    const otherContent = otherStep.querySelector('.guide-content');
                    otherContent.style.display = 'none';
                }
            });

            // 切换当前步骤
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
            } else {
                content.style.display = 'none';
            }
        }
    </script>
</body>

</html>